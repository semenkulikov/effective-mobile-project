"""
Блок 2: Python
Задание 1: Изоморфизмы

Реализовать функцию (или тело функции), которая проверяет на изоморфность два слова.
Пояснение: строки s и t называются изоморфными, если все вхождения каждого символа строки s
можно последовательно заменить другим символом и получить строку t. Порядок символов при этом
должен сохраняться, а замена — быть уникальной. Так, два разных символа строки s нельзя заменить
одним и тем же символом из строки t, а вот одинаковые символы в строке s должны заменяться
одним и тем же символом.

Пример:
s = 'paper' 
t = 'title' 
print(is_isomorphic(s, t))
# Вывод: 
True

Оценить оптимальность решения по времени и памяти и прикрепить текст кода.
"""


def is_isomorphic(s: str, t: str) -> bool:
    """
    Проверяет, являются ли две строки изоморфными.
    
    Алгоритм:
    1. Если длины строк не совпадают, они не могут быть изоморфными
    2. Используем два словаря для отслеживания соответствий:
       - s_to_t: отображение символов из s в символы из t
       - t_to_s: отображение символов из t в символы из s
    3. Для каждой позиции проверяем:
       - Если символ из s уже был сопоставлен с другим символом из t -> False
       - Если символ из t уже был сопоставлен с другим символом из s -> False
       - Иначе создаем соответствие
    
    Временная сложность: O(n), где n - длина строк
    Пространственная сложность: O(n) в худшем случае (когда все символы уникальны)
    """
    if len(s) != len(t):
        return False
    
    # Словари для отслеживания соответствий
    s_to_t = {}  # отображение s -> t
    t_to_s = {}  # отображение t -> s
    
    for i in range(len(s)):
        char_s = s[i]
        char_t = t[i]
        
        # Проверяем соответствие s -> t
        if char_s in s_to_t:
            if s_to_t[char_s] != char_t:
                return False
        else:
            s_to_t[char_s] = char_t
        
        # Проверяем соответствие t -> s (уникальность замены)
        if char_t in t_to_s:
            if t_to_s[char_t] != char_s:
                return False
        else:
            t_to_s[char_t] = char_s
    
    return True


if __name__ == "__main__":
    # Тестовые примеры
    s1, t1 = 'paper', 'title'
    print(f"is_isomorphic('{s1}', '{t1}') = {is_isomorphic(s1, t1)}")  # True
    
    s2, t2 = 'foo', 'bar'
    print(f"is_isomorphic('{s2}', '{t2}') = {is_isomorphic(s2, t2)}")  # False
    
    s3, t3 = 'egg', 'add'
    print(f"is_isomorphic('{s3}', '{t3}') = {is_isomorphic(s3, t3)}")  # True
    
    s4, t4 = 'badc', 'baba'
    print(f"is_isomorphic('{s4}', '{t4}') = {is_isomorphic(s4, t4)}")  # False
